
<ui:composition xmlns="https://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:rich="http://richfaces.org/rich"
	template="../templates/imsTemplateDetails.xhtml">
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />

	<ui:define name="title">
			IMS - Purchase Order details 
	</ui:define>

	<!-- Title appearing in top left of the page -->
	<ui:define name="pagetitle">
			Purchase Orders
	</ui:define>

	<!-- Breadcrumbs appearing in top right of the page -->
	<ui:define name="breadcrumbs">
		<a href="imsIndex.xhtml">Home</a> > <a href="imsPo.xhtml">Purchase
			Orders</a> > <h:outputText value="#{selectedPo.purchaseOrder.id}" />
	</ui:define>

	<ui:define name="backFunction">
		<h:commandLink action="#{selectedPo.reset()}" value=""
			class="hovering">
			<h:graphicImage class="glass_back" value="../img/back.png" />
		</h:commandLink>
	</ui:define>


	<!-- Content goes here -->
	<ui:define name="maincontent">
		<div class="row">
			<h3 id="purchaseOrderDetials">Purchase Order Details</h3>
		</div>
		<div class="row" id="podetails">
			<div class="col-sm-12 text">
				<h:form>
					<h:outputText value="Purchase Order ID: " />
					<h:outputText value="#{selectedPo.purchaseOrder.id}" />
					<br />
					<h:outputText value="Date: " />
					<h:outputText value="#{selectedPo.purchaseOrder.date}"><f:convertDateTime pattern="yyyy-MM-dd" /></h:outputText>
					<br />
					<h:outputText value="Supplier: " />
					<h:outputText value="#{selectedPo.purchaseOrder.supplier.company}" />
					<br />
					<h:outputText value="Purchase Order Status: " />
					<h:outputText value="#{selectedPo.purchaseOrder.status}" />
				</h:form>
			</div>
		</div>

		<br />

		<div class="row table">
			<div class="col-sm-8 heading supDetails">Product</div>
			<div class="col-sm-2 heading supDetails listCenter">Quantity</div>
			<div class="col-sm-2 heading supDetails listCenter">Cost</div>
		</div>

		<ui:repeat var="deets" value="#{selectedPo.dataModel}">
			<div class="row table listItem">
				<div class="col-sm-8 supDetails">
					<h:form>
						<h:commandLink action="#{products.view(deets.product)}"
							value="#{deets.product.productName}" />
					</h:form>
				</div>
				<div class="col-sm-2 supDetails listCenter">
					<h:form>
						<h:commandLink action="#{products.view(deets.product)}"
							value="#{deets.quantity}" />
					</h:form>
				</div>
				<div class="col-sm-2 supDetails listCenter">
					<h:form>
						<h:commandLink action="#{products.view(deets.product)}">
							<h:outputText value="#{deets.subtotal()}">
								<f:convertNumber pattern="Â£###,###,##0.00"/>
								</h:outputText>
						</h:commandLink>
					</h:form>
				</div>
			</div>
		</ui:repeat>

		<div class="row">
			<div class="col-sm-6 buttonOfJoy col-xs-6">
				<p id="email_text">Email</p>
			</div>
			<div class="col-sm-2 buttonOfJoy col-xs-2">
				<h:form>
					<h:commandLink class="hovering" action="#{supplier.email()}">
						<h:graphicImage class="sys" value="../img/email.png" />
					</h:commandLink>
				</h:form>
			</div>
			<div class="col-sm-2 buttonOfJoy col-xs-2">
				<p id="print_text">Print</p>
			</div>
			<div class="col-sm-2 buttonOfJoy col-xs-2">
				<h:form>
					<h:commandLink class="hovering" action="#{product.print()}">
						<h:graphicImage class="sys" value="../img/print.png" />
					</h:commandLink>
				</h:form>
			</div>
		</div>

		<div class="row">
			<div class="col-sm-12">
				<p class="detail_headers">Analytics - Stock Ordered</p>
				<rich:chart id="pie4">
					<rich:chartLegend sorting="descending" />
					<rich:chartSeries data="#{graphs.pie4}" type="pie" />
				</rich:chart>
			</div>
		</div>
	</ui:define>
</ui:composition>
