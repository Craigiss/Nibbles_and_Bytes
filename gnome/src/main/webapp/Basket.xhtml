<ui:composition
xmlns="https://www.w3.org/1999/xhtml"
xmlns:f="http://java.sun.com/jsf/core"
xmlns:h="http://java.sun.com/jsf/html"
xmlns:ui="http://java.sun.com/jsf/facelets"
template="templates/Template.xhtml">
<meta charset="utf-8" />
<ui:define name="title">
Basket Page
</ui:define>
<ui:define name="css">
	<link href="css/Basket.css" rel="stylesheet"/>
</ui:define>
<ui:define name="mainContent">
		<div class="panel panel-default">
		  <div class="panel-heading">
			<h3 class="panel-title">Basket</h3>
		  </div>
		  <!-- Table -->
		  <table class="table">
			<tr>
				<th>Id</th>
				<th>Name</th> 
				<th>Quantity</th>
				<th>Price</th>
			</tr>
		<ui:repeat var="product" value="#{Basket.products}">
			<tr>
				<td><h:outputText value="#{product.productID}"/></td>
				<td><h:outputText value="#{product.productName}"/></td>
				<td><h:outputText value="#{product.quantity}"/></td>
				<td>&#163;<h:outputText value="#{Basket.UpdatePrice(product.quantity,product.price)}"/></td>
			</tr>
	    </ui:repeat>
		  </table>
		  
		</div>
		<div class="row">
			<div class="col-md-6">
				<div class="btn-group">
					<button class="btn btn-danger" value="Empty Basket" type="button" data-toggle="modal" data-target="#myModal" >Empty Basket</button>
				</div>
			</div>    
			<div class="col-md-6">
				<div class="btn-group pull-right">
				<h:form>
					<h:commandButton class="btn btn-success" value="Checkout" type="submit" action ="#{Basket.checkout()}" />
					</h:form>					
				</div>
			</div>
		</div>
		<!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">X</span></button>
        <h4 class="modal-title" id="myModalLabel">Empty Basket</h4>
      </div>
      <div class="modal-body">
       Are you sure you want to empty your basket?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn pull-left btn-danger" data-dismiss="modal">Cancel</button>
        <h:form>
        <h:commandButton class="btn btn-success" value="Confirm" type="submit" action ="#{Basket.ClearBasket()}" style="right:10px;" />
        </h:form>
      </div>
    </div>
  </div>
</div>
</ui:define>
</ui:composition>