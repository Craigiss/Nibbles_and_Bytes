<ui:composition
xmlns="https://www.w3.org/1999/xhtml"
xmlns:f="http://java.sun.com/jsf/core"
xmlns:h="http://java.sun.com/jsf/html"
xmlns:ui="http://java.sun.com/jsf/facelets"
template="templates/Template.xhtml">
<meta charset="utf-8" />
<ui:define name="title">
Search
</ui:define>
<ui:define name="css">
	<link href="css/search.css" rel="stylesheet"/>
</ui:define>


<ui:define name="mainContent">

		
			<h:form>
				<!-- search page results -->
				<h:outputText escape="false" 
				value="No Products Found"
				rendered="#{products.dataModel.rowCount == 0}"
				/>
				<h:panelGroup rendered="#{searchProducts.dataModel.rowCount > 0}" >
				
				<h4 >SEARCH TERM</h4>
				<div class="row">
					<!-- page navigation at top of page -->
					<div class="col-xs-4">
						<h:commandLink
						action="#{searchProducts.previous()}"
						value="Previous page #{searchProducts.pagination.pageSize}"
						rendered="#{searchProducts.pagination.hasPreviousPage}"
						/>
					</div>
					<div class="col-xs-4">
						<h:outputText 
						value="#{searchProducts.pagination.pageFirstItem + 1} 
						to #{searchProducts.pagination.pageLastItem + 1} #{supplier.pagination.itemsCount}"
						/>
					</div>
					<div class="col-xs-4">
						<h:commandLink
						action="#{searchProducts.next()}"
						rendered="#{searchProducts.pagination.hasNextPage}"
						value="Next #{searchProducts.pagination.pageSize}"
						/>
					</div>
				</div>
				<div class="row">
					<!-- product grid-->
						<ui:repeat var="product"
						value="#{searchProducts.dataModel}">
							<div class="col-sm-3">
							<h:commandLink action="#{searchProducts.view(product.productID)}"  >
								<h:graphicImage 
								
								value="#{product.imgPath}"
								width="100" height="100"
								/>
								<p><h:outputText
								value="#{product.productName}"/></p>
								<p><h:outputText
								value="#{product.price}"/></p>
								</h:commandLink>
							</div>
						</ui:repeat>

				</div>
				
				<div class="row">			
					<!-- page navigation at bottom of page -->
					<div class="col-xs-4">
						<h:commandLink
						action="#{searchProducts.previous()}"
						value="Previous page #{searchProducts.pagination.pageSize}"
						rendered="#{searchProducts.pagination.hasPreviousPage}"
						/>
					</div>
					<div class="col-xs-4">
						<h:outputText 
						value="#{searchProducts.pagination.pageFirstItem + 1} 
						to #{searchProducts.pagination.pageLastItem + 1}  #{supplier.pagination.itemsCount}"
						/>
					</div>
					<div class="col-xs-4">
						<h:commandLink
						action="#{searchProducts.next()}"
						rendered="#{searchProducts.pagination.hasNextPage}"
						value="Next #{searchProducts.pagination.pageSize}"
						/>
					</div>
				</div>
				</h:panelGroup>
			</h:form>
</ui:define>
</ui:composition>